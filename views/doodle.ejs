<!DOCTYPE html>
<head>
    <!--Title of the doodle App page-->
    <title>Doodle Schedule</title>
    <!--Reference to the css style sheet-->
    <link rel="stylesheet" href="/static/stylesheets/style.css" type="text/css">
    <!--Import the font resource (Ballo Bhai, Candal, and Chewy) from google-->
    <link href="https://fonts.googleapis.com/css?family=Baloo+Bhai|Candal|Chewy&display=swap" rel="stylesheet">
    <!--Since we are using icon from font awesome, reference the css source from font awesome here too-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
</head>
<body>
    <!--Container for the Task input form, Task list, and email input form-->
    <div class="app-container">
        <!--Title of the App-->
        <h2>Meeting Dates</h2>
        <!--Container of the dates options and pollee's response-->
        <div class="app">
        <!--List of option dates and pollees' availability on them-->
        <!--Action for submiting your name and availability on listed dates-->
        <form action="/" method="POST">
            <!--Title for updating your availability with names to the poll box-->
            <h3 style="text-align: center;">Enter Your Name here and Submit Response!</h3>
            <!--Container of name input box-->
            <div class="app">
                <!--Input form for the pollee's name-->
                <input type="text" name="name" class="app-header">
                <!--Submit name and availability button-->
                <button type="submit" class="add-button">Submit <span class="fas fa-plus"></span></button>
            </div>
            <ul>
                <li>
                    <ul>
                        <!--Hint Card-->
                        <li class="calendar-event">
                            Available Meeting Dates<br>
                            and your availability
                            <div>
                                1. Unavailable<br>
                                2. Available<br>
                                3. Yes, if need be
                            </div>
                            <br>
                            <label><i class="fas fa-user-friends"></i> Available Pollees</label>
                        </li>
                        <!--Hard coded option date-->
                        <li class="calendar-event">
                            Oct 17 Mon<br>
                            9:00 AM - 10:00 AM<br>
                            <!--Input radio buttons for selecting availability on this particular date-->
                            <div>
                                <input type="radio" name="date-1" value="0" checked>Unavailable<br>
                                <input type="radio" name="date-1" value="1">Available<br>
                                <input type="radio" name="date-1" value="2">Yes, if need be
                            </div>
                            <br>
                            <!--Label with number of pollees who respond available and partially available on this date-->
                            <label><i class="fas fa-user-friends"></i> <%= counts[0] %></label>
                        </li>
                        <!--Similar hard coded option date like above-->
                        <li class="calendar-event">
                            Oct 18 Tue<br>
                            2:00 PM - 3:00 PM<br>
                            <div>
                                <input type="radio" name="date-2" value="0" checked>Unavailable<br>
                                <input type="radio" name="date-2" value="1">Available<br>
                                <input type="radio" name="date-2" value="2">Yes, if need be
                            </div>
                            <br>
                            <label><i class="fas fa-user-friends"></i> <%= counts[1] %></label>
                        </li>
                        <!--Similar hard coded option date like above-->
                        <li class="calendar-event">
                            Oct 19 Wed<br>
                            11:00 AM - 12:00 PM<br>
                            <div>
                                <input type="radio" name="date-3" value="0" checked>Unavailable<br>
                                <input type="radio" name="date-3" value="1">Available<br>
                                <input type="radio" name="date-3" value="2">Yes, if need be
                            </div>
                            <br>
                            <label><i class="fas fa-user-friends"></i> <%= counts[2] %></label>
                        </li>
                        <!--Similar hard coded option date like above-->
                        <li class="calendar-event">
                            Oct 21 Fri<br>
                            9:00 AM - 10:00 AM<br>
                            <div>
                                <input type="radio" name="date-4" value="0" checked>Unavailable<br>
                                <input type="radio" name="date-4" value="1">Available<br>
                                <input type="radio" name="date-4" value="2">Yes, if need be
                            </div>
                            <br>
                            <label><i class="fas fa-user-friends"></i> <%= counts[3] %></label>
                        </li>
                    </ul>
                </li>
                <!--Iterate through the list of responded availability and display their details in the list item element-->
                <!--Inside <%%> are scripting language-->
                <li>
                    <!-- First iterate through all the responses (individual pollees)-->
                    <% calendarCard.reverse().forEach(details => { %>
                    <ul> 
                        <!-- Display their name in the first list item -->
                        <li class="calendar-avail">
                            <div><%= details.name %></div>
                        </li>  
                            <% details.content.forEach(avail => { %>
                            <li class="calendar-avail">
                                <!--Display their availability-->
                                <% if (avail=="0") { %>
                                    <!--Give X if unavailable-->
                                    <div class="unavailable-date"><i class="fas fa-times"></i></div>
                                <% } else if (avail=="1") { %>
                                    <!--Give check mark if available-->
                                    <div class="available-date"><i class="fas fa-check"></i></div>
                                <% } else { %>
                                    <!--Give parenthesis surrounded check mark if available if need be-->
                                    <div class="partially-avail">
                                        (<i class="fas fa-check"></i>)
                                    </div>
                                <% } %>
                            </li>
                            <% }) %>
                    </ul>
                    <% }) %>
                </li>
            </ul>
        </div>
    </form>
    </div>
</body>